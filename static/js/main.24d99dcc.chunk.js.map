{"version":3,"sources":["Example.js","useToggle/ExampleUseToggle.js","useToggle/useToggle.js","useTimeout/useTimeout.js","useTimeout/ExampleUseTimeout.js","useScrollDirection/ExampleUseScrollDirection.js","useScrollDirection/useScrollDirection.js","useLocalStorage/ExampleUseLocalStorage.js","useLocalStorage/useLocalStorage.js","useAsync/useAsync.js","useSafeDispatch/useSafeDispatch.js","utlis.js","useAsync/ExampleUseAsync.js","useDebounce/ExampleUseDebounce.js","useDebounce/useDebounce.js","useArray/ExampleUseArray.js","useArray/useArray.js","App.js","index.js"],"names":["Example","children","title","id","split","map","word","toLowerCase","join","console","log","href","ExampleUseToggle","initialState","useState","state","setState","toggle","useCallback","s","useToggle","isToggled","type","onClick","useTimeout","callback","delay","callbackRef","useRef","timeoutRef","useEffect","current","set","setTimeout","clear","clearTimeout","reset","ExampleUseTimeout","number","setNumber","prev","ExampleUseScrollDirection","direction","lastScrollTop","scrollDirection","setScrollDirection","handleScroll","scrollTop","window","pageYOffset","document","documentElement","addEventListener","removeEventListener","useScrollDirection","ExampleUseLocalStorage","key","defaultValue","serialize","JSON","stringify","deserialize","parse","valueInLocalStorage","localStorage","getItem","prevKeyRef","prevKey","removeItem","setItem","useLocalStorage","textInput","setTextInput","value","onChange","e","target","asyncReducer","action","status","data","error","Error","useAsync","useReducer","dispatch","mounted","useLayoutEffect","useSafeDispatch","run","promise","then","receivedData","setData","setError","fakeRequest","Promise","resolve","reject","body","ExampleUseAsync","myData","ExampleUseDebounce","dependencies","useDebounce","res","ExampleUseArray","initialArray","array","setArray","push","element","a","filter","update","index","newElement","slice","length","remove","useArray","n","App","className","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.24d99dcc.chunk.js","sourcesContent":["/* eslint-disable react/prop-types */\r\nconst Example = ({ children, title }) => {\r\n  const id = title\r\n    .split(/(?=[A-Z])/)\r\n    .map((word) => word.toLowerCase())\r\n    .join('-');\r\n\r\n  console.log(`id: ${id}`);\r\n\r\n  return (\r\n    <article id={id}>\r\n      <hr />\r\n      <h2>\r\n        {title}\r\n        <a href=\"#main-title\">⬆️</a>\r\n      </h2>\r\n      {children}\r\n    </article>\r\n  );\r\n};\r\n\r\nexport default Example;\r\n","import { useToggle } from './useToggle';\r\nimport Example from '../Example';\r\n\r\nconst ExampleUseToggle = () => {\r\n  const [isToggled, toggle] = useToggle(false);\r\n\r\n  return (\r\n    <Example title=\"useToggle\">\r\n      <button type=\"button\" onClick={toggle}>\r\n        {isToggled && 'toggled'}\r\n        {!isToggled && 'not toggled'}\r\n      </button>\r\n    </Example>\r\n  );\r\n};\r\n\r\nexport default ExampleUseToggle;\r\n","import { useCallback, useState } from 'react';\r\n\r\n/**\r\n * Toggles a state.\r\n *\r\n * @param {boolean} initialState - initial toggle state.\r\n *\r\n * @returns {array} - toggle state and toggle function.\r\n */\r\n\r\nconst useToggle = (initialState = false) => {\r\n  const [state, setState] = useState(initialState);\r\n  const toggle = useCallback(() => setState((s) => !s), []);\r\n\r\n  return [state, toggle];\r\n};\r\n\r\nexport { useToggle };\r\n","import { useCallback, useEffect, useRef } from 'react';\r\n\r\n/**\r\n * Runs a function inside a timeout and allows to control it by reseting\r\n * or by clearing it. Usefull for use with other custom hooks like useDebounce.\r\n *\r\n * @param {function} callback - the function to run after the delay.\r\n * @param {number} delay delay in ms.\r\n *\r\n * @returns {object} - { reset, clear }\r\n */\r\nconst useTimeout = (callback, delay) => {\r\n  const callbackRef = useRef(callback);\r\n  const timeoutRef = useRef();\r\n\r\n  useEffect(() => {\r\n    callbackRef.current = callback;\r\n  }, [callback]);\r\n\r\n  const set = useCallback(() => {\r\n    timeoutRef.current = setTimeout(() => callbackRef.current(), delay);\r\n  }, [delay]);\r\n\r\n  const clear = useCallback(() => {\r\n    if (timeoutRef.current) clearTimeout(timeoutRef.current);\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    set();\r\n    return clear;\r\n  }, [delay, set, clear]);\r\n\r\n  const reset = useCallback(() => {\r\n    clear();\r\n    set();\r\n  }, [clear, set]);\r\n\r\n  return { reset, clear };\r\n};\r\n\r\nexport { useTimeout };\r\n","import { useState } from 'react';\r\nimport { useTimeout } from './useTimeout';\r\n\r\n// utils\r\nimport Example from '../Example';\r\n\r\nconst ExampleUseTimeout = () => {\r\n  const [number, setNumber] = useState(0);\r\n\r\n  const increment = () => setNumber((prev) => prev + 1);\r\n\r\n  // will run once on mount\r\n  // can't negate with one post clear()\r\n  // clear will clear the timeout\r\n  // reset can be used to trigger it again\r\n  const { clear, reset } = useTimeout(increment, 1000);\r\n\r\n  return (\r\n    <Example title=\"useTimeout\">\r\n      <p>{number}</p>\r\n      <button type=\"button\" onClick={clear}>\r\n        Clear\r\n      </button>\r\n      <button type=\"button\" onClick={reset}>\r\n        Reset\r\n      </button>\r\n    </Example>\r\n  );\r\n};\r\n\r\nexport default ExampleUseTimeout;\r\n","import { useScrollDirection } from './useScrollDirection';\r\n\r\n// utils\r\nimport Example from '../Example';\r\n\r\nconst ExampleUseScrollDirection = () => {\r\n  const direction = useScrollDirection('down');\r\n  console.log('render');\r\n\r\n  return (\r\n    <Example title=\"useScrollDirection\">\r\n      <p>{direction}</p>\r\n    </Example>\r\n  );\r\n};\r\n\r\nexport default ExampleUseScrollDirection;\r\n","import { useRef, useState, useEffect } from 'react';\r\n\r\n/**\r\n * Returns last vertical scroll direction.\r\n *\r\n * @param {string} initialState 'up' or 'down'.\r\n *\r\n * @return {string} - 'up' or 'down'.\r\n */\r\n\r\nconst useScrollDirection = (initialState) => {\r\n  const lastScrollTop = useRef(0);\r\n  const [scrollDirection, setScrollDirection] = useState(initialState);\r\n\r\n  useEffect(() => {\r\n    const handleScroll = () => {\r\n      const scrollTop =\r\n        window.pageYOffset || document.documentElement.scrollTop;\r\n\r\n      if (scrollTop > lastScrollTop.current) {\r\n        lastScrollTop.current = scrollTop <= 0 ? 0 : scrollTop;\r\n        setScrollDirection('down');\r\n      } else {\r\n        lastScrollTop.current = scrollTop <= 0 ? 0 : scrollTop;\r\n        setScrollDirection('up');\r\n      }\r\n    };\r\n    window.addEventListener('scroll', handleScroll);\r\n    return () => {\r\n      window.removeEventListener('scroll', handleScroll);\r\n    };\r\n  }, []);\r\n\r\n  return scrollDirection;\r\n};\r\n\r\nexport { useScrollDirection };\r\n","import { useLocalStorage } from './useLocalStorage';\r\n\r\n// utils\r\nimport Example from '../Example';\r\n\r\nconst ExampleUseLocalStorage = () => {\r\n  // textInput is saved in local storage on every change\r\n  const [textInput, setTextInput] = useLocalStorage('text');\r\n\r\n  const handleChange = (e) => {\r\n    setTextInput(e.target.value);\r\n  };\r\n\r\n  return (\r\n    <Example title=\"useLocalStorage\">\r\n      <p>\r\n        The text written in the input is saved in local storage in real time\r\n      </p>\r\n      <input type=\"text\" value={textInput} onChange={handleChange} />\r\n    </Example>\r\n  );\r\n};\r\n\r\nexport default ExampleUseLocalStorage;\r\n","import { useState, useRef, useEffect } from 'react';\r\n\r\n/**\r\n * Creates a state synced with the local storage.\r\n *\r\n * @param {String} key local storage key name.\r\n * @param {Object} defaultValue the value to use if it is not already in localStorage.\r\n * @param {{serialize: Function, deserialize: Function}} options the serialize and deserialize functions to use (defaults to JSON.stringify and JSON.parse).\r\n *\r\n * @returns {array} - [state, setState].\r\n */\r\nfunction useLocalStorage(\r\n  key,\r\n  defaultValue = '',\r\n  { serialize = JSON.stringify, deserialize = JSON.parse } = {}\r\n) {\r\n  const [state, setState] = useState(() => {\r\n    const valueInLocalStorage = window.localStorage.getItem(key);\r\n    if (valueInLocalStorage) {\r\n      return deserialize(valueInLocalStorage);\r\n    }\r\n    return typeof defaultValue === 'function' ? defaultValue() : defaultValue;\r\n  });\r\n\r\n  const prevKeyRef = useRef(key);\r\n\r\n  useEffect(() => {\r\n    const prevKey = prevKeyRef.current;\r\n    if (prevKey !== key) {\r\n      window.localStorage.removeItem(prevKey);\r\n    }\r\n    prevKeyRef.current = key;\r\n    window.localStorage.setItem(key, serialize(state));\r\n  }, [key, state, serialize]);\r\n\r\n  return [state, setState];\r\n}\r\n\r\nexport { useLocalStorage };\r\n","/* eslint-disable no-shadow */\r\nimport { useCallback, useReducer } from 'react';\r\nimport { useSafeDispatch } from '../useSafeDispatch/useSafeDispatch';\r\n\r\nconst asyncReducer = (state, action) => {\r\n  switch (action.type) {\r\n    case 'pending': {\r\n      return { status: 'pending', data: null, error: null };\r\n    }\r\n    case 'resolved': {\r\n      return { status: 'resolved', data: action.data, error: null };\r\n    }\r\n    case 'rejected': {\r\n      return { status: 'rejected', data: null, error: action.error };\r\n    }\r\n    default: {\r\n      throw new Error(`Unhandled action type: ${action.type}`);\r\n    }\r\n  }\r\n};\r\n\r\n/**\r\n * Monitors an async promise. Pass your promise to the 'run'\r\n * returned function.\r\n *\r\n * @param {{status, data}} initialState object with initial status and data.\r\n *\r\n * @returns {object} {setData, setError, error, status, data, run}.\r\n * @returns status can be 'idle', 'pending', 'resolved', 'rejected'.\r\n */\r\nconst useAsync = (initialState) => {\r\n  const [state, unsafeDispatch] = useReducer(asyncReducer, {\r\n    status: 'idle',\r\n    data: null,\r\n    error: null,\r\n    ...initialState,\r\n  });\r\n\r\n  const dispatch = useSafeDispatch(unsafeDispatch);\r\n\r\n  const { data, error, status } = state;\r\n\r\n  const run = useCallback(\r\n    (promise) => {\r\n      dispatch({ type: 'pending' });\r\n      promise.then(\r\n        (receivedData) => {\r\n          dispatch({ type: 'resolved', data: receivedData });\r\n        },\r\n        (error) => {\r\n          dispatch({ type: 'rejected', error });\r\n        }\r\n      );\r\n    },\r\n    [dispatch]\r\n  );\r\n\r\n  const setData = useCallback(\r\n    (data) => dispatch({ type: 'resolved', data }),\r\n    [dispatch]\r\n  );\r\n  const setError = useCallback(\r\n    (error) => dispatch({ type: 'rejected', error }),\r\n    [dispatch]\r\n  );\r\n\r\n  return {\r\n    setData,\r\n    setError,\r\n    error,\r\n    status,\r\n    data,\r\n    run,\r\n  };\r\n};\r\n\r\nexport { useAsync };\r\n","/* eslint-disable no-void */\r\nimport { useRef, useLayoutEffect, useCallback } from 'react';\r\n\r\n/**\r\n * Returns the passed function as a safe variant which doesn't run\r\n * if the component is unmounted.\r\n *\r\n * @param {function} dispatch the function to make safe.\r\n *\r\n * @returns {function} - the safe variant of the passed function.\r\n */\r\nconst useSafeDispatch = (dispatch) => {\r\n  const mounted = useRef(false);\r\n\r\n  useLayoutEffect(() => {\r\n    mounted.current = true;\r\n    return () => {\r\n      mounted.current = false;\r\n    };\r\n  }, []);\r\n\r\n  return useCallback(\r\n    (...args) => (mounted.current ? dispatch(...args) : void 0),\r\n    [dispatch]\r\n  );\r\n};\r\n\r\nexport { useSafeDispatch };\r\n","function fakeRequest(delay = 100) {\r\n  const promise = new Promise((resolve, reject) => {\r\n    setTimeout(() => {\r\n      resolve(JSON.stringify({ body: 'something from server' }));\r\n\r\n      // error version\r\n      // reject(JSON.stringify({ body: 'something from server' }));\r\n    }, delay);\r\n  });\r\n\r\n  return promise;\r\n}\r\n\r\nexport { fakeRequest };\r\n","/* eslint-disable no-use-before-define */\r\nimport { useAsync } from './useAsync';\r\n\r\n// utils\r\nimport Example from '../Example';\r\nimport { fakeRequest } from '../utlis';\r\n\r\nconst ExampleUseAsync = () => {\r\n  // the hook provides with all the async operation details\r\n  const {\r\n    data: myData,\r\n    setData,\r\n    setError,\r\n    error,\r\n    status,\r\n    run,\r\n  } = useAsync({ status: 'idle' });\r\n\r\n  const makeRequest = () => {\r\n    // you just pass your async promise-based func to the run function\r\n    // all the data after this async operation is available from the hook\r\n    run(fakeRequest(1000));\r\n  };\r\n\r\n  // use the details from the hook to conditionally render components\r\n  // which depend on the status or the error\r\n  return (\r\n    <Example title=\"useAsync\">\r\n      <button onClick={makeRequest} type=\"button\">\r\n        Make request\r\n      </button>\r\n      <div>Request status: {status}</div>\r\n      {myData && <p>{myData}</p>}\r\n      {error && <p>An error occurred</p>}\r\n    </Example>\r\n  );\r\n};\r\n\r\nexport default ExampleUseAsync;\r\n","/* eslint-disable no-use-before-define */\r\nimport { useState } from 'react';\r\nimport { useDebounce } from './useDebounce';\r\n\r\n// utils\r\nimport Example from '../Example';\r\nimport { fakeRequest } from '../utlis';\r\n\r\nconst ExampleUseDebounce = () => {\r\n  const [textInput, setTextInput] = useState('');\r\n  const [data, setData] = useState('');\r\n\r\n  const makeRequest = () => {\r\n    fakeRequest(0).then((res) => setData(res));\r\n  };\r\n\r\n  // you pass the async function, the delay and the state to dictate timer start\r\n  useDebounce(makeRequest, 1000, [textInput]);\r\n\r\n  const handleChange = (e) => {\r\n    setTextInput(e.target.value);\r\n  };\r\n\r\n  return (\r\n    <Example title=\"useDebounce\">\r\n      <p>The request will be made only after user stopped typing for 1s</p>\r\n      <input type=\"text\" value={textInput} onChange={handleChange} />\r\n      <p>Received: {data}</p>\r\n    </Example>\r\n  );\r\n};\r\n\r\nexport default ExampleUseDebounce;\r\n","import { useEffect } from 'react';\r\nimport { useTimeout } from '../useTimeout/useTimeout';\r\n\r\n/**\r\n * Runs a timeout only after a state has stopped changing for an amount of ms.\r\n * It \"debounces\" the previous timeout if a state in the dep array has changed.\r\n * @param {function} callback The function to run.\r\n * @param {number} delay delay in ms.\r\n * @param {array} dependencies array of dependencies.\r\n */\r\nconst useDebounce = (callback, delay, dependencies) => {\r\n  const { reset, clear } = useTimeout(callback, delay);\r\n\r\n  // if dep changed reset the timer\r\n  useEffect(reset, [...dependencies, reset]);\r\n\r\n  // denies the very first run\r\n  useEffect(clear, [clear]);\r\n};\r\n\r\nexport { useDebounce };\r\n","import { useArray } from './useArray';\r\n\r\n// utils\r\nimport Example from '../Example';\r\n\r\nconst ExampleUseArray = () => {\r\n  const initialArray = [1, 2, 3, 4, 5];\r\n  const { array, set, push, filter, update, remove, clear } =\r\n    useArray(initialArray);\r\n\r\n  return (\r\n    <Example title=\"useArray\">\r\n      <p>{JSON.stringify(array)}</p>\r\n      <div>\r\n        <button onClick={() => set([1, 2, 3, 4, 5, 6])} type=\"button\">\r\n          set([1, 2, 3, 4, 5, 6])\r\n        </button>\r\n        <button onClick={() => push(0)} type=\"button\">\r\n          push(0)\r\n        </button>\r\n        <button onClick={() => filter((n) => n % 2 !== 0)} type=\"button\">\r\n          filter odd\r\n        </button>\r\n        <button onClick={() => update(1, 0)} type=\"button\">\r\n          update(1, 0)\r\n        </button>\r\n        <button onClick={() => remove(0)} type=\"button\">\r\n          remove(0)\r\n        </button>\r\n        <button onClick={() => clear()} type=\"button\">\r\n          clear()\r\n        </button>\r\n      </div>\r\n    </Example>\r\n  );\r\n};\r\n\r\nexport default ExampleUseArray;\r\n","import { useState } from 'react';\r\n\r\nconst useArray = (initialArray) => {\r\n  const [array, setArray] = useState(initialArray);\r\n\r\n  // push an element to the end\r\n  const push = (element) => {\r\n    setArray((a) => [...a, element]);\r\n  };\r\n\r\n  // filter with a callback\r\n  const filter = (callback) => {\r\n    setArray((a) => a.filter(callback));\r\n  };\r\n\r\n  // update an element at index position with a new element\r\n  const update = (index, newElement) => {\r\n    setArray((a) => [\r\n      ...a.slice(0, index),\r\n      newElement,\r\n      ...a.slice(index + 1, a.length),\r\n    ]);\r\n  };\r\n\r\n  // remove an element at index position\r\n  const remove = (index) => {\r\n    setArray((a) => [...a.slice(0, index), ...a.slice(index + 1, a.length)]);\r\n  };\r\n\r\n  // clear whole array\r\n  const clear = () => {\r\n    setArray([]);\r\n  };\r\n\r\n  // instead of setArray return \"set\"\r\n  return { array, set: setArray, push, filter, update, remove, clear };\r\n};\r\n\r\nexport { useArray };\r\n","import './App.css';\nimport ExampleUseToggle from './useToggle/ExampleUseToggle';\nimport ExampleUseTimeout from './useTimeout/ExampleUseTimeout';\nimport ExampleUseScrollDirection from './useScrollDirection/ExampleUseScrollDirection';\nimport ExampleUseLocalStorage from './useLocalStorage/ExampleUseLocalStorage';\nimport ExampleUseAsync from './useAsync/ExampleUseAsync';\nimport ExampleUseDebounce from './useDebounce/ExampleUseDebounce';\nimport ExampleUseArray from './useArray/ExampleUseArray';\n\nconst App = () => (\n  <main className=\"wrapper-main\">\n    <h1 id=\"main-title\">Cutom Hooks</h1>\n    <a\n      target=\"_self\"\n      title=\"Github markdown doesn't support blank ((\"\n      href=\"https://github.com/Dan-Lucian/react-custom-hooks\"\n    >\n      Go back to github repo\n    </a>\n    <ol className=\"list-custom-hooks\">\n      <li>\n        <a href=\"#use-toggle\">useToggle</a>\n      </li>\n      <li>\n        <a href=\"#use-timeout\">usetimeout</a>\n      </li>\n      <li>\n        <a href=\"#use-scroll-direction\">useScrollDirection</a>\n      </li>\n      <li>\n        <a href=\"#use-local-storage\">uselocalStorage</a>\n      </li>\n      <li>\n        <a href=\"#use-async\">useAsync</a>\n      </li>\n      <li>\n        <a href=\"#use-debounce\">useDebounce</a>\n      </li>\n      <li>\n        <a href=\"#use-array\">useArray</a>\n      </li>\n    </ol>\n\n    <ExampleUseToggle />\n    <ExampleUseTimeout />\n    <ExampleUseScrollDirection />\n    <ExampleUseLocalStorage />\n    <ExampleUseAsync />\n    <ExampleUseDebounce />\n    <ExampleUseArray />\n  </main>\n);\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}